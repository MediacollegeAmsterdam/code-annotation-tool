(()=>{var e={265(e,t,n){"use strict";var o,a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,a)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),r=0;r<n.length;r++)"default"!==n[r]&&a(t,e,n[r]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){console.log('Extension "cat" is now active!');const t=l.commands.registerCommand("cat.explainCode",async()=>{const t=l.window.activeTextEditor;if(t){const n=t.selection,o=t.document.getText(n);o?await l.window.withProgress({location:l.ProgressLocation.Notification,title:"Generating Visual Explanation",cancellable:!1},async t=>{await async function(e,t){const n=await async function(e){console.log("hello");const t=await l.lm.selectChatModels({});t.forEach(e=>{console.log(`VENDOR: ${e.vendor} | FAMILY: ${e.family} | VERSION: ${e.version} | ID: ${e.id}`)});const n=l.workspace.getConfiguration("inlineChat").get("defaultModel");console.log(n);const[o]=await l.lm.selectChatModels(t[4]);if(!o)return"Sorry, I couldn't find a suitable language model to generate the explanation.";{const t=[l.LanguageModelChatMessage.User(`Analyze the following code and explain it shortly and compactly step by step. please do put some text in the explanation and make sure to make it readable to beginning programmers. also, make sure to\n\t\t\t\t  make it into in markdown format with code blocks that have the right language tag so the colors are right too.\n\t\t\t\t devide it with lines between each step and make sure that i could easily make a screenshot of each step and make it into a powerpoint dont put anything else than the markdown content and make sure to use code blocks with the right language tag for the code snippets.\n\t\t\t\t also make sure there arent any empty code blocks and that all code blocks have the right language tag for the code inside and that they wont show the.\n\t\t\t\t don't use any comments for expleanation inside the code blocks just put the code and explain everything in the text outside the code blocks make sure to make it nice and consisten and use ### for titles.\n\t\t\t\t :\n\n${e}`)];try{const e=await o.sendRequest(t);if(e){let t="";for await(const n of e.text)t+=n;return t}return"Sorry, I couldn't generate an explanation for the selected code."}catch(e){return e instanceof l.LanguageModelError&&"QuotaExceeded"===e.code?"### ⚠️ Subscription Limit Reached\nYou have run out of Copilot tokens for now. Please check your plan.":"\n### step 1\n```javascript\nconsole.log('hello world');\n```\n\n### step 2\n```python\ndef greet():\n    print('Hello, World!')\n```"}}}(t),o=l.window.createWebviewPanel("codeExplanation","Code Explanation",l.ViewColumn.Active,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[l.Uri.joinPath(e.extensionUri,"webview","dist")]}),a=s.join(e.extensionUri.fsPath,"webview","dist","index.html");let i=c.readFileSync(a,"utf-8");i=i.replace(/src="\/assets\/([^"]+)"/g,(t,n)=>`src="${o.webview.asWebviewUri(l.Uri.joinPath(e.extensionUri,"webview","dist","assets",n))}"`),i=i.replace("</body>",`<script>window.markdownContent = ${JSON.stringify(n)};<\/script></body>`),o.webview.html=i}(e,o)}):l.window.showInformationMessage("Please select some code first!")}});e.subscriptions.push(t)},t.deactivate=function(){};const s=r(n(928)),c=r(n(896)),l=r(n(398))},398(e){"use strict";e.exports=require("vscode")},896(e){"use strict";e.exports=require("fs")},928(e){"use strict";e.exports=require("path")}},t={},n=function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(265);module.exports=n})();